CREATE TABLE Institution                                                        
(                                                                               
    id serial primary key,                                                      
    title varchar(50)                                                           
);

CREATE TABLE Cafedra                                                            
(                                                                               
    code varchar(4) primary key,                                                
    title varchar(50),                                                          
    institutionId int,                                                          
    FOREIGN KEY (institutionId) REFERENCES Institution(id)                      
);

CREATE TABLE Specialty                                                          
(                                                                               
    code varchar(8) primary key,                                                
    title varchar(50),                                                          
    cafedraCode varchar(4),                                                     
    FOREIGN KEY (cafedraCode) REFERENCES Cafedra(code)                          
);

CREATE TABLE Course                                                             
(                                                                               
    id serial primary key,                                                      
    title varchar(50),                                                          
    cafCode varchar(4),                                                         
    FOREIGN KEY (cafCode) REFERENCES Cafedra(code)                              
);

CREATE TABLE Lesson(                                                            
    id serial primary key,                                                      
    Title varchar(200),                                                         
    courseid int,                                                               
    FOREIGN KEY (courseid) REFERENCES Course(id)                                
);

 CREATE TABLE Groups                                                            
(                                                                               
code varchar(10) primary key,                                                   
cafedra varchar(4),                                                             
spec varchar(8),                                                                
EndYear int,                                                                    
FOREIGN KEY (spec) REFERENCES Specialty(code)                                   
);

create table STUDENTS                                                           
(                                                                               
   code varchar(6) primary key,                                                 
   FULLNAME varchar(60),                                                        
   gcode varchar(10),                                                           
   FOREIGN KEY (gcode) REFERENCES groups(code)                                  
);

CREATE TABLE Timetable                                                          
(                                                                               
id serial primary key,                                                          
date timestamp,                                                                 
groupId varchar(10),                                                            
lessonId int,                                                                   
lessonNum int,                                                                  
FOREIGN KEY (groupId) REFERENCES Groups(code),                                  
FOREIGN KEY (lessonId) REFERENCES Lesson(id)                                    
);

create table VISIT                                                              
(                                                                               
id serial,                                                                      
studentId varchar(6),                                                           
isVisited bool,                                                                 
tt_id int,                                                                      
date date,                                                                      
FOREIGN KEY (studentId) REFERENCES Students(code),                              
FOREIGN KEY (tt_id) REFERENCES Timetable(id)                                    
);

CREATE TABLE GroupStudent                                                       
(                                                                               
    id serial primary key,                                                      
    code_st varchar(6),                                                         
    code_group varchar(10),                                                     
    FOREIGN KEY (code_st) REFERENCES Students(code),                            
    FOREIGN KEY (code_group) REFERENCES Groups(code)                            
);

INSERT INTO Institution(title) VALUES ('Кибербезопасности и цифровых технологий'); --1

INSERT INTO Institution(title) VALUES ('Экономический'); --2

INSERT INTO Institution(title) VALUES ('Хороший'); --3

INSERT INTO Cafedra(code, title, institutionId) VALUES ('КБ-3','Безопасность
программных решений', 1);

INSERT INTO Cafedra(code, title, institutionId) VALUES ('КБ-4','Безопасность и
безопасность', 2);

INSERT INTO Specialty(code, title, cafedraCode) VALUES ('09.03.02',
'Информационные системы и технологии', 'КБ-3');

INSERT INTO Course(title, cafCode) VALUES ('Математика', 'КБ-3');

INSERT INTO Lesson(title, courseid) VALUES ('Алгоритмы компонентов цифровой обработки
данных', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Анализ программного кода на наличие вредоносных объектов', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Методы и алгоритмы аутентификации компонент программных систем', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Методы системной инженерии', 1);   

INSERT INTO Lesson(title, courseid) VALUES ('Облачные технологии', 1);          

INSERT INTO Lesson(title, courseid) VALUES ('Организационно-правовое обеспечение защиты информации', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Проектирование архитектуры программного обеспечения', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Разработка безопасного программного обеспечения', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Технологии обеспечения информационной безопасности', 1);

INSERT INTO Lesson(title, courseid) VALUES ('Управление информационно-технологическими проектами', 1);

INSERT INTO Groups(code, cafedra, spec, endyear) VALUES                         
('БСБО-01-19','КБ-3','09.03.02', 2023);                                         

INSERT INTO Groups(code, cafedra, spec, endyear) VALUES                         
('БСБО-02-19','КБ-3','09.03.02', 2023);                                         

INSERT INTO Groups(code, cafedra, spec, endyear) VALUES                         
('БСБО-03-19','КБ-3','09.03.02', 2023);

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD1','Аветисян Д.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD2','Богатырёв О.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD3','Болотов А.Ю.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD4','Буграев Г.Я.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD5','Булышев А.П');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD6','Гордиенко Е.Ю.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD7','Горобцов А.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD8','Долгушина Н.И.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD9','Донецкая А.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD10','Иванов С.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD11','Ивашин А.С.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD12','Казанцев В.С.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD13','Лагуткин Н.С.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD14','Лубошников М.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD15','Максимов А.С.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD16','Мелентьев Д.В.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD17','Никонова Ю.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD18','Очир-Горяева И.А.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD19','Приходько Д.В.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD20','Пуртов Д.В.');

INSERT INTO Students(gcode, code, fullname) VALUES ('БСБО-01-19', 'STUD21','Сулохин Р.Р.');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD1','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD2','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD3','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD4','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD5','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD6','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD7','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD8','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD9','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD10','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD11','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD12','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD13','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD14','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD15','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD16','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD17','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD18','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD19','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD20','БСБО-01-19');

INSERT INTO GroupStudent(code_st, code_group) VALUES ('STUD21','БСБО-01-19');
